# Setting up LangChain Prompts Examples with uv

This guide will help you set up the LangChain prompts examples project using `uv`, a fast Python package installer and resolver.

## Prerequisites

1. **Install uv** (if not already installed):
   ```bash
   # On macOS and Linux
   curl -LsSf https://astral.sh/uv/install.sh | sh
   
   # On Windows (PowerShell)
   powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
   
   # Or using pip
   pip install uv
   ```

2. **Verify uv installation**:
   ```bash
   uv --version
   ```

## Quick Setup

### 1. Clone or Download the Project
```bash
# If you have the project files, navigate to the project directory
cd langchainPrompts
```

### 2. Create a Virtual Environment and Install Dependencies
```bash
# Create a virtual environment and install dependencies in one command
uv sync
```

This command will:
- Create a virtual environment (`.venv`)
- Install all dependencies from `pyproject.toml`
- Generate a lock file (`uv.lock`)

### 3. Activate the Virtual Environment
```bash
# On macOS/Linux
source .venv/bin/activate

# On Windows
.venv\Scripts\activate
```

### 4. Set Up Environment Variables
```bash
# Copy the example environment file
cp env_example.txt .env

# Edit .env and add your OpenAI API key
# OPENAI_API_KEY=your_actual_api_key_here
```

### 5. Run the Examples
```bash
# Run all examples
uv run python run_all_examples.py

# Or run individual examples
uv run python basic_prompts.py
uv run python advanced_prompts.py
# etc.
```

## Alternative Setup Methods

### Method 1: Using uv pip (if you prefer pip-style commands)
```bash
# Create virtual environment
uv venv

# Activate it
source .venv/bin/activate  # On macOS/Linux
# or
.venv\Scripts\activate     # On Windows

# Install dependencies
uv pip install -e .
```

### Method 2: Install with Development Dependencies
```bash
# Install with dev dependencies (includes testing and formatting tools)
uv sync --extra dev
```

### Method 3: Install Specific Dependencies
```bash
# Install only core dependencies
uv add langchain langchain-openai python-dotenv openai

# Add development dependencies
uv add --dev pytest black isort
```

## Project Structure with uv

```
langchainPrompts/
├── pyproject.toml          # Project configuration and dependencies
├── uv.lock                 # Lock file (generated by uv)
├── .venv/                  # Virtual environment (created by uv)
├── basic_prompts.py        # Basic prompt examples
├── advanced_prompts.py     # Advanced prompt examples
├── prompt_templates.py     # Template examples
├── few_shot_examples.py    # Few-shot learning examples
├── chain_prompts.py        # Chain prompt examples
├── output_parsing.py       # Output parsing examples
├── prompt_optimization.py  # Optimization examples
├── run_all_examples.py     # Run all examples
├── requirements.txt        # Legacy requirements (not needed with uv)
├── env_example.txt         # Environment variables template
└── README.md              # Project documentation
```

## uv Commands Reference

### Package Management
```bash
# Install dependencies
uv sync

# Add a new dependency
uv add package_name

# Add a development dependency
uv add --dev package_name

# Remove a dependency
uv remove package_name

# Update dependencies
uv sync --upgrade

# Show installed packages
uv pip list
```

### Virtual Environment Management
```bash
# Create a new virtual environment
uv venv

# Create with specific Python version
uv venv --python 3.11

# Activate virtual environment
source .venv/bin/activate  # macOS/Linux
.venv\Scripts\activate     # Windows

# Deactivate
deactivate
```

### Running Scripts
```bash
# Run a Python script in the virtual environment
uv run python script.py

# Run with specific Python version
uv run --python 3.11 python script.py

# Run the examples using the project script
uv run run-examples
```

## Development Workflow

### 1. Code Formatting
```bash
# Format code with black
uv run black .

# Sort imports with isort
uv run isort .

# Check code style with flake8
uv run flake8 .
```

### 2. Type Checking
```bash
# Run mypy type checking
uv run mypy .
```

### 3. Testing
```bash
# Run tests
uv run pytest

# Run tests with coverage
uv run pytest --cov=.
```

### 4. Linting and Formatting (All at once)
```bash
# Run all code quality checks
uv run black . && uv run isort . && uv run flake8 . && uv run mypy .
```

## Troubleshooting

### Common Issues

1. **uv command not found**:
   - Make sure uv is installed and in your PATH
   - Try restarting your terminal

2. **Permission errors**:
   - On macOS/Linux, you might need to use `sudo` for installation
   - On Windows, run PowerShell as Administrator

3. **Python version issues**:
   - uv will automatically use the best available Python version
   - You can specify a version: `uv venv --python 3.11`

4. **Dependency conflicts**:
   - uv handles dependency resolution automatically
   - If issues persist, try: `uv sync --reinstall`

### Environment Issues

1. **OpenAI API key not working**:
   - Make sure your `.env` file is in the project root
   - Verify the API key is correct and has sufficient credits
   - Check that `python-dotenv` is installed

2. **Import errors**:
   - Ensure you're in the virtual environment: `source .venv/bin/activate`
   - Verify all dependencies are installed: `uv pip list`

## Benefits of Using uv

- **Speed**: Much faster than pip for dependency resolution and installation
- **Reliability**: Better dependency resolution with lock files
- **Simplicity**: Single tool for virtual environments and package management
- **Compatibility**: Works with existing Python projects and tools
- **Modern**: Uses modern Python packaging standards (pyproject.toml)

## Next Steps

After setting up with uv:

1. **Explore the examples**: Start with `basic_prompts.py`
2. **Modify and experiment**: Try changing prompts and parameters
3. **Add your own examples**: Create new files with your use cases
4. **Contribute**: Submit improvements or new examples

## Additional Resources

- [uv Documentation](https://docs.astral.sh/uv/)
- [LangChain Documentation](https://python.langchain.com/)
- [OpenAI API Documentation](https://platform.openai.com/docs)
- [Python Packaging User Guide](https://packaging.python.org/) 